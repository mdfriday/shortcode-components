# MDFriday Shortcode Components System Todo List

## 1. 基础架构任务

- [ ] 1.1 创建样式定义接口
  - 定义 StyleDefinition 接口
  - 定义基础样式属性（spacing, color, typography 等）
  - 包含类型声明文件

- [ ] 1.2 创建 CSS 框架适配器接口
  - 定义 CSSFrameworkAdapter 接口
  - 定义核心方法（convertToClasses, generateCSS, getExternalResources）
  - 添加适配器注册机制

- [ ] 1.3 实现参数处理工具
  - 创建统一的参数解析函数
  - 添加参数验证和类型转换
  - 支持默认值处理

## 2. Tailwind 适配层

- [ ] 2.1 创建 Tailwind 适配器
  - 实现基础的样式映射
  - 添加工具类生成逻辑
  - 实现 convertToClasses 方法

- [ ] 2.2 实现 Tailwind 工具类生成器
  - 创建最小化的工具类集合
  - 实现按需生成逻辑
  - 添加类名冲突处理

- [ ] 2.3 添加 Tailwind 主题支持
  - 实现颜色系统映射
  - 实现间距系统映射
  - 实现排版系统映射

## 3. 主题系统

- [ ] 3.1 创建主题管理器
  - 定义主题接口
  - 实现主题注册机制
  - 添加主题切换功能

- [ ] 3.2 实现基础主题
  - 创建 light 主题配置
  - 创建 dark 主题配置
  - 添加主题继承机制

- [ ] 3.3 添加组件主题配置
  - 为每个组件创建主题配置
  - 实现变体支持
  - 实现尺寸支持

## 4. 组件重构

- [ ] 4.1 重构基础布局组件
  - 重构 Container 组件
  - 重构 Grid 组件
  - 重构 Flex 组件
  - 移除硬编码的样式类

- [ ] 4.2 重构内容组件
  - 重构 Button 组件
  - 重构 Text 组件
  - 重构 Heading 组件
  - 使用新的样式系统

- [ ] 4.3 重构复杂组件
  - 重构 Card 组件
  - 重构 Feature 组件
  - 重构 Testimonial 组件
  - 实现样式分离

## 5. 运行时支持

- [ ] 5.1 实现 Sandbox 支持
  - 创建 Sandbox 类
  - 添加样式注入机制
  - 实现资源加载器

- [ ] 5.2 实现 Obsidian 支持
  - 创建 Obsidian 插件适配器
  - 实现样式注入机制
  - 处理样式隔离

## 6. 测试和文档

- [ ] 6.1 添加单元测试
  - 为样式系统添加测试
  - 为适配器添加测试
  - 为组件添加测试

- [ ] 6.2 添加集成测试
  - 测试主题切换
  - 测试样式生成
  - 测试组件渲染

- [ ] 6.3 更新文档
  - 更新组件使用文档
  - 添加主题配置指南
  - 添加自定义主题指南

## 实施顺序

1. 先完成基础架构任务（1.x），这是其他任务的基础
2. 实现 Tailwind 适配层（2.x），因为当前系统依赖 Tailwind
3. 建立主题系统（3.x），为组件重构做准备
4. 逐步重构组件（4.x）
5. 添加运行时支持（5.x）
6. 最后完善测试和文档（6.x）

每个任务都遵循 INVEST 原则：
- Independent: 相对独立，可以独立开发和测试
- Negotiable: 具体实现可以讨论和调整
- Valuable: 每个任务都能带来明确的价值
- Estimable: 工作量可以估计
- Small: 任务规模适中，可以在合理时间内完成
- Testable: 可以编写测试用例验证 